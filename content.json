{"pages":[],"posts":[{"title":"制作发布自己的pods到CocoaPods","text":"很早之前制作过自己的pods，以前是然后pull request到specs,最近又想弄了，发现现在不再接受pull request了 改为trunk服务了，所以记录一下，免得自己以后也忘记了。 关于CocoaPods Trunk这里有介绍。 准备先升级下CocoaPods版本,0.33以上就行了。 pod --version看一下版本。 然后注册一下trunk pod trunk register your email &apos;your name&apos; your email就是填的邮箱了，your name就写你的名字。 完了话会收到一份邮件，验证一下。 然后就可以使用 pod trunk me 来查看一下你自己的注册信息了。 如果你已经制作完了pod并创建修改完了podspec，就直接往下看了，如果没有就在网上搜一下。 提交都弄完了我们就可以push啦。 当然了我们先验证下podspec文件喽 pod spec lint your.podspec 这步要是有问题就看看报错修改喽。没问题就继续 pod trunk push your.podspec 成功之后呢，我们看一下有没有 pod search yourpod 就是搜下你提交的pod的名字。我们也可以在本地~/.cocoapods的路径下看一下有没有yourpod.podspec.json这个文件。 如果之前已经发布过的pod，作者本人声明所有权可以通过Claim Your Pods来看下具体步骤。认领地址 End制作的时候也会有很多要注意的地方，我实在是懒的很，还是自己搜搜吧。。。。我这个写的相当粗糙了，网上有很多写的相当具体的了。比如： http://nshipster.cn/cocoapods/ http://blog.wtlucky.com/blog/2015/02/26/create-private-podspec/ 更新一下:如果使用 pod trunk XXX 报错 [!] Authentication token is invalid or unverified. Either verify it with the email that was sent or register a new session. 那就再执行下命令 pod trunk register your email 然后在你的邮箱里找找邮件打开验证一下，再继续。 更新 自己的制作的库要引用其他pod的文件的时候，引用方式头文件报错了，具体就是 #import&lt;xxxx.h&gt; 这类不行了 换成 ＃import&lt;xxxx/xxxx.h&gt; –EOF–","link":"/2015/09/15/2015-09-15-zhi-zuo-fa-bu-zi-ji-de-podsdao-cocoapods/"},{"title":"MyHouse-1","text":"把一件事说清楚挺难的。 ###感谢父母新房年前就装修完了，都是父亲给操办的，房子是父亲给的，装修是父亲给装的。一直觉得父亲生活中是比较粗糙的人，但是这次买房装修过程中以及装完的效果，我发现父亲其实是一个特别有品质的老男人，房子中的每一处细节他都想到了并且弄的特别棒。整体风格是普通的不能再普通的风格，但是所有的家具都是实木的，质感特别好，只是善良的老父亲被厂商给坑了一把，家具的味道特别大，并且没有按照我们规定好的样子做。父亲一直说都不容易，差不得就得了，人家也不是故意的。我却不依不饶，一直再找厂家要说法，最后答应了重新给弄。我妈以为我对我爸的眼光不满意，让我将就将就。其实我是觉得委屈，为我爸委屈，这些厂家难道就因为我爸好说话就这样欺负么？所以我才一直不依不饶的找厂家，说好的什么样就要什么样，差一分一毫都不行，这是原则。 ###购家电这两天周末跑了线下的苏宁把电视、洗衣机、冰箱给买了。装修完了我爸妈就催着我赶紧买家电去，我是觉得过些日子再买，我先了解了解。上周我觉得是时候可以买了，因为我了解差不多了。周六四口人开车就去苏宁了，城乡结合部的环境真的挺差的，谁让咱在农村呢…… 买了个三星的电视，65 的，没买曲面的，因为觉得用处不大。性价比还可以，够我们用了，说是 4K 的，可是现在这机顶盒输出的质量，也没什么大用。买了电视主要也是和老婆看电影，打游戏用。 洗衣机和冰箱都买的是西门子的，老妈和丈母娘都说西门子的不错，我还是觉得性价比高，以后不想用了，直接扔掉再买新的都不心疼，所以就买了下来。当然这都是周六那天四口一起去看了好多款中的一款，最后都没有决定下来买哪个，到晚饭点了就都回家了。第二天我跟父亲又去了，一刻钟时间就定下来了缴费回家了。老爷们们买东西就是快，想要的花多少钱都值，没什么可犹豫的。当然，这些其实都是我之前了解过的。 ###办宽带然后就去办理联通宽带了。想起来真是又气愤、又心酸、又无奈。仅一条马路之隔的两个小区，办理宽带的地点都不一样。我先去了离家近的一家营业厅，告之要去远的那个，又驱车去远的那个办理了。我11点20排到队开始办理，办理完成出了营业厅时是 12 点 10，整整 50 分钟啊……我就哔了狗了。喝口水去，且听我说是什么情况。 开始办理，我说明来意，营业员直接给我报套餐……听他balabala介绍完。都是捆绑的业务，捆绑手机号，还得买新手机，手机卡还得充值，还送什么机顶盒，直接给我整懵了。我就问她，有没有不捆绑的。小姑娘说没有。心想没有就没有吧，反正家里也没座机，弄个新号当座机也好。然后又咨询了下，什么宽带上下行对称不对称啊，有没有国际线路啊，有没有专线啊，都有什么样的带宽啊，居然一问三不知，然后开始打电话，解决我的问题。还好吧，总算负责人的帮我问，这时候我才知道不管我办理2 0M、30M、50M、80M、还会 100M，上行都是 10M 带宽的上行，下行也全都不达标，这是技术人员的原话。哎罢了罢了心想办个 100M 的吧，技术大哥赶紧跟我说千万别办 100M 的 跟 50M 的一样，没嘛区别还贵，数据中心出口就那么大，除非特殊办理，一个月1W多。。。我真就哔了狗了，良心何在啊。心想那就算了，办了 50M 的吧。我又问了下国际网的事，又给另外的一个人打电话，我说明了我的意思，对面直接说，您的意思我懂，但是没有这个业务，国家不让访问的您肯定是访问不了的，哎，我认了，我要肉翻！然后又咨询下独享专线的问题，小姑娘又跟另外的一个人打了个电话，这个大哥跟我说，办是可以办的，问我为什么要专线，我说有服务器。我就问他有没有什么价目清单什么的，大哥说没有，这个现在很模糊，他上次给一个企业办理的40M的每个月 7000 块钱，这个价格是他能给的最低的。。。说我要办理 50M 的专线要 1W多，我说具体多少。大哥说就差不多这个范围，等我真要办的时候再跟他联系商量价格。我就哔了狗了，合着这都不是明码标价的，业务人员自己定价啊，真牛逼。放下电话，回归正题，还是先把家里的宽带办了吧，然后小姑娘又开始介绍套餐，balabala的说了一堆，我就想弄个 50M 的还要我办理卡，还要给卡交月租费，还要交 3 年的每月 130+的费用，我实在没耐心听下去了，我也不想办捆绑了，就直接跟她说我就办宽带业务，不弄其他的，你能不能弄。小姑娘就说你们这小区就只有这三种套餐，没有其他的不能单独办理宽带，我就怒了，当然我是有涵养的人，不会闹的啊。我就跟小姑娘说你确定么？小姑娘特肯定的说就这三种，没有其他的。我这时候觉得我要放大招了，我拿出手机，跟小姑娘说，我录下音可以吧，您再跟我说下是只能办理捆绑宽带业务，不能单独办理宽带业务么？小姑娘慌了，马上就说您等下我问问我们大区经理，然后离开了工位，去墙角打了个电话，很快就回来了说可以单独办理，但是只能一次办理一年的，我很无奈啊，哎。就要这个了，开始办理吧，让我选个号码，都包含数字 4 的，虽然我不信这个但是爸妈老婆肯定觉得不好啊，就开启扫描模式，运气还好，找到了一个不包含数字 4 的，还很好记的号码。小姑娘说，嚯看这么快一会儿都翻了20多页了。哥当年号称答题卡扫描器不是白叫的。给身份证，办业务，打单子，单子下来特意看了眼单子。都是错，50M 写成 20M，电话号码也不对，就问小姑娘这怎么回事，小姑娘说我也不知道啊，系统就是这么打出来的，我也懒得问了，要不她又要打电话问别人了浪费我的时间。我就跟她说你在单子上给我签个字，我办理的是 50M，你签个字，如果错了这是你的责任。拿着小姑娘签完的单子交完费我就走了。 人们习惯欺骗他人，也习惯了被他人欺骗。人们都怕麻烦，因为怕麻烦，我们承受了多少的欺骗与不平等。如果我们一直这样怕麻烦，不发出我们的声音，最后将没有任何发声的机会，也没有权利可言。 –EOF–","link":"/2016/03/13/2016-03-13-myhouse-1/"},{"title":"下厨","text":"这两天老婆要全天在店里，晚上也吃不到老婆做的饭了。天天回来都喊累，我一琢磨，干脆我晚上自己做吧，多做点，第二天还能让她带饭吃。然后我就连续做了两天。基本上7点左右到家开始做，10点左右才做完，累的不行了最后也草草的吃两口就完了，做了俩小时，吃也就用10分钟。以下就是我这两天做的菜啦，看着不咋地，但是味道还可以。 这两天情绪波动比较大，心情不太好，有一种说不出来的感受，以后还是不要去关注那些消息了，相忘于江湖。 –EOF–","link":"/2016/03/18/2016-03-18-xia-chu/"},{"title":"我是我","text":"一件发生在去年冬天的事 起因结婚时没有蜜月，对老婆挺愧疚的。她很想去日本，就答应她说有时间咱们就去，还是得先去弄护照。我发现我的身份证快过期了，我就想先把身份证换了吧，然后就找了一个工作日，请了一天的假弄身份证去，还能回父母那跟他们待半天，挺好。 经过早上8点多，就到了派出所，结果没有人，等了一会儿，一个警员出现了。我就上前问他，身份证要过期了，要办理身份证，警员拿出来一张纸，丢给我看。我要到服务中心去办。我就想说就这纸，咱能不能放在服务窗上让人一眼就能看到。无话开车到服务中心，询问了一下，指给我说，走到头人最多的那个就是了。过去后排队填报交钱照相录指纹，最后告诉我不能办，因为之前身份证和现在人长的不象！我就问办事的大姐，您觉得这是不是我，大姐说应该是，但是她也没辙，系统不让录入……大姐告知我让我去户籍地派出所开个证明，然后更新照片。好吧我有回到派出所，这得亏我是本地人，要是海南的还得回海南弄了，要是湾区的还得回湾区了？哦，不用，人家是国际友人，一切好办。 回到派出所，诉说来意，被告知我要找我的户籍警S，但是今天S家里人住院了，不来上班，所以没法办。我就操了，说句不好听的，要是这位警察出点什么意外，我就一辈子不能办了？其他警察都不能办？说了半天，还是不行。说明天让我来试试，当时让我觉得舒服点的就是告诉了我派出所电话，让我明天来之前打电话问问再来，别耽误时间。办不成没办法，我拿着电话号码就回去了。 第二天早上，还是八点多，我心想打个电话问问吧，拿起手机拨了电话，告诉我空号！空号！空号！啊。我都懵了，这尼玛，我又打了一次告诉我关机。这尼玛不是座机电话么！！！没辙我又跑到了派出所，询问了一下，告诉我小灵通关机了。关机了！关机了！这不是私人电话啊，这是派出所的电话啊！我实在是无力了，弱弱的问我现在能办事了么？我的户籍警不在，出去办事去了。给了我他的电话，让我打电话给他直接问，我打了电话是另外的人接的，又给了我另外一个号码，我又打了这个，终于联系到我的户籍警S了，S告诉我他今天回不来，我赶紧问明天呢？告诉我让我明天打电话问问再说。没辙，一肚子气回家了。这已经两天了。 第三天早上，又是八点多，为什么又是八点多呢，因为前一家公司给养成的好习惯，八点半上班。抄起电话就打了电话，告诉我他现在在，一会儿就出去。我赶忙说，我马上就过去一刻钟就到。然后带上我的身份证、一张一寸照片。这次老爸送我去的。到了之后，等了一会儿S出来了，我说是我打的电话，说明了事由。期间我看见了我的高中同学，但是没有打招呼，他正要出警。S看了身份证和我带的照片，说这不象我，让我提供从小到大的各种证书上面带照片的。我就懵了，虽然胖很多吧，但这五官没变啊。各种解释说这就是我本人，我户口本也都给了。费了很多口舌，就是说不象我本人，必须有其他东西证明我就是我，我就是我！我提出让我父亲证明，S说不行，亲属不能证明你。S的逻辑就是亲属会帮忙做假，之前有人为了高考替换了身份证照片。可是…可是我都工作了好几年了啊，我就是换个新身份证而已至于的么。由于时间很长，父亲有些着急，进来找我，了解了原因之后很愤怒，非要投诉S。我拦着父亲没让，因为没用的，以后肯定会找麻烦的。我承认我很怂，我只是个想安稳过日子的小市民，我不想惹事。就在这时候我高中同学出警回来了，我跟S说，M是我高中同学，他能证明我就是我，S回头看看M，说你来看看。M直接说不用看了，就是我高中同学，一眼就看出来了。S拿起东西就去办去了，让我等着。 M让我进去聊，第一次进局子内部，路过一间间的审讯室，来到了办公室，聊了很多，毕业后各自的生活，哪个同学怎么怎么样了。M跟我抱怨的最多的就是他这份警察的工作，理性与现实的差距。聊了一会儿，有人喊他要出警去。他说让我出去等一会儿，估计快弄完了，留了电话我就自己走出来了，快到门口的时候听见有人和M说，你等会，出去把这带上，小心点，我回头看了一眼，那人递过去一把枪，帮M把枪袋穿上了。到了大厅里等了一会儿，S出来了，说弄完了，拿走吧，让我再去服务大厅办就好了。我接过东西，道感谢，S说你应该感谢M，给你省大事了，我忙说是是，拿着东西就奔服务大厅去了。那天风特别大，刮的脸特别的疼。 这三天去派出所，我总是看到一个大爷。第一天我看他很费劲的想进屋，我就帮他撩起大门帘，扶他进去坐下了。第二天我去的是他已经在了，有个警察在跟他说这什么，我只是零星的听见，一个警察说，他们不管这个，让他该找谁找谁去，在这坐着也没用。老大爷耷拉着脑袋嘴里再说着什么，但是我一句都没听懂，不知道他在说什么。第三天我去的时候，又见到了老大爷，依旧坐在那里，但是没有警察在那了。他依旧耷拉着脑袋，一根树枝靠在他的腿边，可能是他的拐棍吧。再往腿上一看，我都吓到了，大爷的小腿都露在外面啊，那可是三九天啊，我穿着羽绒服啊。大爷穿的很破烂，很臃肿，看不出衣服的原色，之前没看到露着的小腿，因为已经跟衣服一个颜色了，全是黑的。我想我先办事吧，一会儿再问问大爷怎么了。后来被同学叫进去了，等我出来了，大爷不见了，但那根树枝落在了地上，我询问了一下窗口的警察刚才坐这的大爷呢，都说不知道。我出了派出所，马路上找了一会儿，问了几个门口的商贩，都说没注意。大爷不知道去哪了，我不知道大爷说的是什么，他有没有家人。后来给M发条微信问了有没有见到那个大爷，M没有回我。我刷了下朋友圈，看到M转发了条消息，听党指挥… 我TMD真的很感谢GCD。 没有结果–EOF–","link":"/2016/05/12/2016-05-12-i-am-me/"},{"title":"在 storyboard 中使用静态 Cell 时 Label 内容的显示问题","text":"这两天遇到一个问题，通过 storyboard 创建的 static cell，通过代码设置 cell 上 label 文字的时候，发现文字经常不能正常显示，只有通过滑动 tableview 之后，重新刷新了以后才能正常显示。解决办法： If you are setting the text to nil somewhere when you try to set it to a non-nil value the actual view that contains the text will be missing. This was introduced in iOS8. Try setting to an empty space @” “ character instead. This was my issue but it happens when you set it to “” and nil. So you actually have to set it to “ “. So basically isEmpty causes this behavior as well. 就是在 storyboard 创建的 cell 中给 label 设置个初始值:“ ”，空格就行了，解决了我遇到的问题。 –EOF–","link":"/2016/05/15/2016-05-15-static-cell-with-detaillabel-in-storyboard/"},{"title":"上传ipa包.Bundle文件问题","text":"起因前些日子集成了某人脸识别的 SDK，通过他们发来的文档成功接入了，发测试也是使用了蒲公英进行分发的，通过 Xcode 打包出 ipa 然后传到蒲公英，一切都是很正常。直到前两天我要提交审核了，上传 ipa 的时候报错了。 报错信息: ERROR ITMS-90166: “Missing Code Signing Entitlements. No entitlements found in bundle ‘com.xx.xxxx’ for executable ‘Payload/xx.app/PlugIns/xxxx.bundle/xxxx’.”” ERROR ITMS-90171: “Invalid Bundle Structure - The binary file ‘xx.app/PlugIns/xxxx.bundle/xxxx’ is not permitted. Your app can’t contain standalone executables or libraries, other than the CFBundleExecutable of supported bundles. Refer to the Bundle Programming Guide at https://developer.apple.com/go/?id=bundle-structure for information on the iOS app bundle structure.” 基本上就是报这两个错误，由于文件都是别人提供的，我就去问了下技术支持，但是没人鸟我啊，所以只能自己解决了。 刚看到报错信息我就想当然的就去网上搜了。费了很长时间都没有解决，焦头烂额，人也很烦躁。 后来实在没招了，仔细看了下报错信息，再对比下源文件，bundle 包下有一个可执行文件，报错信息中也确实给指出了问题: Your app can’t contain standalone executables or libraries, other than the CFBundleExecutable of supported bundles. 解决办法： 删除编译 bundle 的 info.plist 中 Executable file 删除 bundle 所有的可执行文件。 因为 bundle 是静态的，也就是说，我们包含到包中的资源文件作为一个资源包是不参加项目编译的。也就意味着，bundle包中不能包含可执行的文件。它仅仅是作为资源，被解析成为特定的2进制数据。 还在研究项目中引用的工程是怎么自己把执行文件也打包到 bundle 中的，等研究明白了再做更新。 总结还是自己太不稳当了，太毛躁，遇到问题就知道网上查，其实问题已经很明显了，稍微用下心就能很快的解决。一定要记得看仔细看报错信息，答案都在里面了。 –EOF–","link":"/2016/08/01/2016-08-01-shang-chuan-ipazhong-dot-bundlewen-jian-wen-ti/"},{"title":"iOS SandBox","text":"经常使用 SandBox ,但是总也记不住，记录下来免的又忘记了。 沙盒目录沙盒的目录中有很多文件，经常打交道的是Data文件，它包含下面三个文件 Documents：用于存储用户数据，iTunes备份和恢复的时候会包括此目录，所以，苹果建议将程序中建立的或在程序中浏览到的文件数据保存在该目录下。 Library：包含两个子目录：Caches 和 Preferences。Caches用来存放用户需要换成的文件。Preferences是APP的偏好设置，可以通过NSUserDefaults来读取和设置。 tmp： 用于存放临时文件，这个可以放一些当APP退出后不再需要的文件。 获取沙盒路径根目录//获取沙盒根目录 NSString *directory = NSHomeDirectory(); Documents路径//获取Documents路径 NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); NSString *path = [paths objectAtIndex:0]; Library路径//获取Library路径 NSArray *paths = NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, YES); NSString *path = [paths objectAtIndex:0]; Caches路径//获取Caches路径 NSArray *paths = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES); NSString *path = [paths objectAtIndex:0]; tmp路径//获取tmp路径 NSString *tmp = NSTemporaryDirectory(); –EOF–","link":"/2017/02/23/2017-02-23-ios-sandbox/"},{"title":"一个内存泄露问题","text":"问题的出现发现在文件传输的过程中，内存一直在增长并且不释放，反复的测试发现是在文件上传过程中，上传文件块过程中内存不释放，导致内存泄漏。 定位问题通过 Instruments Leaks 观察定位到是一块儿申请的空间没有释放，这个工具最后显示出来的调用栈显示申请的内存没有释放，导致内存泄露。 1NSData *data = [LBFileManager readDataOffset:self.blockInfo.location withLength:self.blockInfo.length from:path error:error]; 指向的是这个函数内部 最开始一直以为是这块儿的问题，修改了函数入参 想的是外部传入赋值的对象，交给外部控制（实际上其实这块儿没有影响）。经过反复测试，发现并不是这块儿的问题。测试的过程中发现存储该对象的地方已经移除了持有了该对象，理论上外部不再持有该对象，但是该对象并没有被释放，没有调用dealloc方法。在和同事的讨论过程中，发现这是个循环引用问题，外部持有者已经不再持有该对象，但是该对象内部形成了循环引用，导致不能释放。 但是我检查了几遍代码并没有发现循环引用的问题。于是使用了return大法，一个个的函数测试，最终定位到读取文件数据发起网络请求后内存泄露。 经过一番查找，发现官方文档里有这样一句话 The session object keeps a strong reference to the delegate until your app exits or explicitly invalidates the session. If you don’t invalidate the session, your app leaks memory until it exits. 意思就是 session 对象会对代理进行强引用，如果不使 session 失效就会出现内存泄露。 解决办法在调用网络任务结束的地方 调用以下方法 123456789101112131415161718192021/* -finishTasksAndInvalidate returns immediately and existing tasks will be allowed * to run to completion. New tasks may not be created. The session * will continue to make delegate callbacks until URLSession:didBecomeInvalidWithError: * has been issued. * * -finishTasksAndInvalidate and -invalidateAndCancel do not * have any effect on the shared session singleton. * * When invalidating a background session, it is not safe to create another background * session with the same identifier until URLSession:didBecomeInvalidWithError: has * been issued. */- (void)finishTasksAndInvalidate; /* -invalidateAndCancel acts as -finishTasksAndInvalidate, but issues * -cancel to all outstanding tasks for this session. Note task * cancellation is subject to the state of the task, and some tasks may * have already have completed at the time they are sent -cancel. */- (void)invalidateAndCancel; 更新每次创建的session 并不会随着调用或者invalidateAndCancel``` 而释放内存，虽然session已经置为nil但是占用的内容缓存并不会释放掉（[要过10多分钟才能释放掉](https://developer.apple.com/library/archive/qa/qa1727/_index.html)，这是官方上说的我，我试了几次等了半小时也没有释放）123查了不少资料，都是要用单例去解决这个问题。临时解决办法，设置 ```NSURLSessionConfiguration``` 的 ```URLCache 12345678NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration defaultSessionConfiguration];//设置请求超时为10秒钟configuration.timeoutIntervalForRequest = 10;//在蜂窝网络情况下是否继续请求（上传或下载）configuration.allowsCellularAccess = NO;configuration.URLCache = [[NSURLCache alloc] initWithMemoryCapacity:0 diskCapacity:0 diskPath:nil];// 构造NSURLSession，网络会话；_session = [NSURLSession sessionWithConfiguration:configuration delegate:self delegateQueue:nil]; 是解决了内存的问题，但是不使用缓存又很慌，毕竟应用场景是有大量的文件传输 总结 参考 https://stackoverflow.com/questions/32878257/ios-memory-management-issue-with-arc https://developer.apple.com/documentation/foundation/url_loading_system https://developer.apple.com/documentation/foundation/urlsession https://stackoverflow.com/questions/29514759/uploading-uiimage-data-to-the-server-getting-memory-peaks http://www.drdobbs.com/architecture-and-design/memory-leaks-in-ios-7/240168600 https://blog.csdn.net/jsjxiaobing/article/details/41828419 https://stackoverflow.com/questions/28223345/memory-leak-when-using-nsurlsession-downloadtaskwithurl/35757989#35757989","link":"/2018/07/18/2018-07-18-urlsession-memory-leak/"},{"title":"macOS崩溃日志符号化","text":"分析工具网上一大堆文章都是分析iOS的崩溃日志的，针对Mac的特别少，其实基本原理都差不多，就不再详细的描述了。就推荐一个崩溃日志符号化的工具。 下载地址 源码地址 使用方法： 将 .crash 文件和 .dSYM 文件放在同一目录下。 将 .crash 或者 .dSYM 拖入这个工具中，另外一个文件会自动导入 注1：.dSYM 可以在打包时候生产的 .xcarchive 包中找到。 注2：注意 .crash 和 .dSYM 的UUID要一致 查看dSYM UUID xcrun dwarfdump --uuid file_path .crash 查看UUID 在 Binary Images 的下一行 包名 后面的那一串字符 还有一个工具可以参考dSYMTools这个工具也可以符号化崩溃日志，需要手动操作，具体使用方式链接上面说的很清楚了。 参考链接 http://www.smileykeith.com/2013/08/09/os-x-crash-symbolication/ https://stackoverflow.com/questions/5842147/how-to-symbolicate-mac-osx-crash-reports-issued-by-apple","link":"/2018/08/03/2018-08-03-maccrashreportssymbol/"},{"title":"iOS&macOS 异常捕获","text":"最近在弄 crash 日志的处理，找到了几篇文章，也还在研究，记录一下。目前已经能正常记录程序 crash 时的调用栈。代码在https://gist.github.com/wuchuwuyou/fdd20f64510e7652c7d95f5a22b7d988.目前还不完善，后续继续更新。 参考 https://github.com/plausiblelabs/plcrashreporter https://www.jianshu.com/p/29051908c74b http://www.iosxxx.com/blog/2015-08-29-iosyi-chang-bu-huo.html https://github.com/kaler/CrashKit https://www.jianshu.com/p/948dd7a0f62d","link":"/2018/08/13/2018-08-13-ios-and-macos-yi-chang-bu-huo/"},{"title":"block memory management","text":"block内存管理，先看几个例子 123456781. int a = 0; void (^block)(void) = ^ { printf(&quot;in block a = %d,%p\\n&quot;,a,&amp;a); }; a = 1; block(); printf(&quot;after block a = %d,%p\\n&quot;,a,&amp;a); 123456782. __block int a = 0; void (^block)(void) = ^ { printf(&quot;in block a = %d,%p\\n&quot;,a,&amp;a); }; a = 1; block(); printf(&quot;after block a = %d,%p\\n&quot;,a,&amp;a); 1234567893. __block int a = 0; void (^block)(void) = ^ { printf(&quot;in block a = %d,%p\\n&quot;,a,&amp;a); a = 2; }; a = 1; block(); printf(&quot;after block a = %d,%p\\n&quot;,a,&amp;a); 输出分别是 1234567891.in block a = 0,0x600000252ec0after block a = 1,0x7ffee71c81042.in block a = 1,0x600000429ef8after block a = 1,0x600000429ef83.in block a = 1,0x60000042b118after block a = 2,0x60000042b118 输出中不难看出在1中变量 a 在 block 中被 copy 了生成了新的地址。经过 __block修饰符声明的变量在 block 中就是同一个地址。","link":"/2018/08/15/2018-08-15-block-memory-management/"},{"title":"记录一下","text":"记录 自定义NSSearchField 背景色NSPopover cocoa绘图 UIKit =&gt; AppKit 国际手机号前缀码 NSTableView选中行背景色 Using View-Based NSTableView Apple Sample Code Default Mac OS X System Key Bindings iOS Icon LaunchImage Size 键盘事件相关","link":"/2018/08/28/2018-08-28-lately-record/"},{"title":"CocoaPods私有库","text":"#CocoaPods私有库 私有库版本库 创建版本库（repo）私有库的一个索引 建一个git空仓库 执行Pod repo list列出本地的所有的版本库 执行pod repo add repo的名字 git地址将索引库添加到本地 创建私有库项目创建项目pod lib create &lt;项目名称&gt; Assets 资源文件 Class 源码文件。根据命令行提示一步步执行，然后就写代码招呼吧。提交代码的时候记得添加tag一起提交 与 .podspec里面的version一致pod lib lint 检查配置文件，通过以后可以提交pod repo push 版本库名称 组件库名字.podspec pod lib lint 和 pod spec lint 命令分别是对podspec的本地校验和远程校验 配置依赖自己写的cocoapods库中引用其他第三方库只需要在.podspec文件中设置 s.dependency 'AFNetworking', '~&gt; 2.3'这样的就可以了。但是如果你依赖的是自己的私有库，就会有点问题，需要麻烦一点弄一下。 依赖私有库私有库配置依赖中引用其他私有库，在.podspec 中的写法和上面一样 s.dependency 'LDKeychain', '~&gt; 0.1.0' |LDKeychain就是我自己的之前写的私有库，通过 dependency 引用私有库文件。 但是我们在验证.podspec和往自己的私有repo中提交的时候会报错。只需要如下操作 DeviceUniqueKey.podspec 为我的创建的私有库，repo_name是版本库的名字 需要在 pod lib lint 命令是加上 –sources repo地址。例如：pod lib lint DeviceUniqueKey.podspec --sources=https://github.com/CocoaPods/Specs.git,xxx.xxx.xxx.xxx/iOS/repo_name.git pod repo push 时也需要在命令上加上–sources 例如：pod repo push lenovo-specs-repo DeviceUniqueKey.podspec —sources=ssh://git@xxx.xxx.xxx.xxx/iOS/repo_name.git 完事记得pod repo update 版本库名称一下","link":"/2018/08/28/2018-09-12-cocoapods-private-repo/"},{"title":"Git Tag","text":"Git tag git tag 列出所有标签 git show tag_name 列出该标签的版本信息 git tag tag_name 创建名字为tag_name的标签 git push origin tag_name推送制定的标签 git push origin - -tags 推送本地所有新增的标签 git tag -d tag_name 删除本地名字为tag_name的标签 git push origin :refs/tags/tag_name 删除云端名字为tag_name的标签","link":"/2018/08/28/2018-09-12-git-tag/"},{"title":"macOS Finder Extension","text":"Finder SyncmacOS 上的Finder App 的应用拓展 可以控制显示文件/文件夹的的图标，控制选中文件/文件夹的的右键菜单操作。 https://github.com/BokkkRottt/FinderSyncDemo https://www.jianshu.com/p/9124340f0f71 https://developer.apple.com/library/archive/documentation/General/Conceptual/ExtensibilityPG/Finder.html#//apple_ref/doc/uid/TP40014214-CH15-SW1 http://www.cocoachina.com/ios/20141004/9824.html https://developer.apple.com/design/human-interface-guidelines/macos/extensions/finder-sync-extensions/","link":"/2018/08/28/2018-09-30-finder-extension/"},{"title":"macOS创建随机文件","text":"https://cloud.tencent.com/developer/article/1004339","link":"/2018/10/31/2018-10-31-create-file/"},{"title":"github Permission denied (publickey)","text":"今天重新生成了github的ssh key,添加完以后发现提示 12345git@github.com: Permission denied (publickey).fatal: Could not read from remote repository.Please make sure you have the correct access rightsand the repository exists. 然后查了一下资料，因为我在创建的时候给文件输入了个名字 12Generating public/private rsa key pair.Enter file in which to save the key (/Users/murphy/.ssh/id_rsa): github 可以通过ssh-add ~/.ssh/your_file_name的方式解决。也可以在 ~/.ssh/ 目录下编辑config配置文件 123456vi configHost github.com HostName github.com User git IdentityFile ~/.ssh/github_rsa User 就是用户名 最后验证一下 ssh -T git@github.com","link":"/2018/11/01/2018-11-01-github-permission-denied/"},{"title":"Cocoa中WebView允许选择本地上传文件","text":"Cocoa中WebView允许选择本地上传文件Cocoa中使用 webview 加载URL显示网页，在进行选择文件上传时候 1&lt;input type=\"file\" name=\"uploadfile\"&gt; 在webview上不能正常的弹出选择器，cef正常。 WebUIDelegate解决该问题只需要实现 WebUIDelegate 的代理方法 1- (void)webView:(WebView *)sender runOpenPanelForFileButtonWithResultListener:(id&lt;WebOpenPanelResultListener&gt;)resultListener; 实现内容12345678910111213141516171819202122232425262728#pragma mark - webview/// &lt;input type=\"file\"&gt;- (void)webView:(WebView *)sender runOpenPanelForFileButtonWithResultListener:(id&lt;WebOpenPanelResultListener&gt;)resultListener { // Create the File Open Dialog class. NSOpenPanel* openDlg = [NSOpenPanel openPanel]; // Enable the selection of files in the dialog. [openDlg setCanChooseFiles:YES]; // Enable the selection of directories in the dialog. [openDlg setCanChooseDirectories:NO]; if ([openDlg runModal] == NSOKButton) { NSArray* URLs = [openDlg URLs]; NSMutableArray *files = [[NSMutableArray alloc]init]; for (int i = 0; i &lt;[URLs count]; i++) { NSString *filename = [[URLs objectAtIndex:i]relativePath]; [files addObject:filename]; } for(int i = 0; i &lt; [files count]; i++) { NSString* fileName = [files objectAtIndex:i]; [resultListener chooseFilename:fileName]; } }} 参考 https://developer.apple.com/documentation/webkit/wkuidelegate/1641952-webview?language=objc https://stackoverflow.com/questions/33642521/simple-swift-cocoa-app-with-webkit-upload-picture-doesnt-work/33694264#33694264 https://stackoverflow.com/questions/7626463/how-to-allow-files-uploading-with-webview-in-cocoa","link":"/2018/11/02/2018-11-02-cocoa-webview-upload-file /"},{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/1970/01/01/hello-world/"}],"tags":[],"categories":[{"name":"life","slug":"life","link":"/categories/life/"},{"name":"technology","slug":"technology","link":"/categories/technology/"},{"name":"jottings","slug":"jottings","link":"/categories/jottings/"}]}